import {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader'

//      Initializing loader module properties
//
//assign the number assets imported in this module
const numberOfAssets = 1 

//value representing how much has loaded,
//ranging from 0 to 1. 
//Adds a percentage when an asset is loaded.
//Value should be 100 when all assets are loaded.
let loadedPercentage = 0 
//
//      end of Initializing loader module properties

//      Creating a progress bar
//
var progressBar = require('progressbar.js')
 var loadingBar = new progressBar.Circle('.progress-bar-container' /* Element that will contain SVG generated by progressbar.js */,{ 
    //add necessary styling/properties. Refer https://progressbarjs.readthedocs.io/en/latest/api/shape/
}) 

//set the progress bar value to 0
loadingBar.animate(loadedPercentage)
//
//      end of Creating a progress bar


//      Loading models
//
const gltfloader = new GLTFLoader()

//Boilerplate for importing a model. Change variable names and path to the asset
let modelName = null;
gltfloader.load(
    'Model path',
    (gltf2) =>
    {
        modelName = gltf2.scene;
        loadedPercentage += (1/numberOfAssets) //caluclate the percentage the asset contributes to the total loadedPercentage
        loadingBar.animate(loadedPercentage) // animate the progress bar
        if(loadedPercentage >= 1){ //if loaded percentage is 1, then the survey can start.
            //Call function to start the survey
        }
    }
) 
//
//      end of Loading models

